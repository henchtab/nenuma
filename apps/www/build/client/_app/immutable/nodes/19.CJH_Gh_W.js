import{a as n,e as W,t as i,c as s,s as e,h as he,f as ce,$ as ye}from"../chunks/disclose-version.fOPLq0BV.js";import{p as M,o as me,b as f,s as D,a as N,c as Q,w as ee,ae as X,ak as G,d as _e,t as we}from"../chunks/index.mbo8UwIt.js";import{c as Ie}from"../chunks/7.Cd8d_C7g.js";import{u as O,a as b,i as xe,s as qe}from"../chunks/store.D-2t0Hor.js";import{m as Y,h as ve,b as De}from"../chunks/tma.BQwOCdIl.js";import{p as V}from"../chunks/stores.DLKqf0w-.js";import{b as j,p as P}from"../chunks/this.BHzcAiyK.js";import{B as K}from"../chunks/index.COTgdiVo.js";import{d as J,L as x,I as q,f as Pe}from"../chunks/index.CH_5PiTF.js";import{r as U}from"../chunks/utils.CD35gsf_.js";import{t as ue}from"../chunks/Toaster.svelte_svelte_type_style_lang.CEVEthHX.js";import{w as Be}from"../chunks/with-wallet-connection.Htb2AuAa.js";import"../chunks/entry.SZhX6hnE.js";(function(){try{var y=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B=new Error().stack;B&&(y._sentryDebugIds=y._sentryDebugIds||{},y._sentryDebugIds[B]="a882dd52-decd-46ed-9a9e-377af7fade4c",y._sentryDebugIdIdentifier="sentry-dbid-a882dd52-decd-46ed-9a9e-377af7fade4c")}catch{}})();var Se=i("Topic",1),ke=i("Query ID",1),Te=i("Randomize",1),Fe=i('<form class="flex container py-6 flex-col gap-4 overflow-auto"><div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <div class="flex relative ring-1 ring-ds-gray-400 rounded-md transition-all duration-300 focus-within:ring-2 focus-within:ring-ds-gray-600"><!> <!></div></div></form>');function Ce(y,B){M(B,!0);const a={};O(a);const p=()=>b(Y,"$mainButton",a),d=()=>b(ve,"$hapticFeedback",a),R=()=>b(E,"$stream",a),E=J();let h=Q(void 0),_=Q(void 0);me(()=>{let r;return p()&&f(h)&&(p().setText("Deploy Stream").enable().show(),r=p().on("click",()=>{var o;d().impactOccurred("heavy"),(o=f(h))==null||o.requestSubmit()})),()=>{r==null||r(),p().hide().disable()}});async function m(r){r.preventDefault();const o=new FormData(r.currentTarget),A={topic:o.get("topic"),queryId:BigInt(o.get("queryId"))};try{await R().deploy(A),ue.success("The stream deployment transaction is on its way")}catch(L){L instanceof Error&&ue.error(L.message)}}var l=Fe();j(l,r=>D(h,P(r)),()=>f(h));var S=s(l),u=s(S);x(u,{class:"w-fit",children:(r,o)=>{var A=Se();n(r,A)},$$slots:{default:!0}});var F=e(e(u,!0));q(F,{type:"text",name:"topic",placeholder:"1.candlestick.TONUSDT",required:!0});var w=e(e(S,!0)),C=s(w);x(C,{for:"queryId",class:"w-fit",children:(r,o)=>{var A=ke();n(r,A)},$$slots:{default:!0}});var k=e(e(C,!0)),T=s(k);q(T,{id:"queryId",type:"number",name:"queryId",placeholder:"101",required:!0,get value(){return f(_)},set value(r){D(_,P(r))},class:"rounded-r-none border-0 border-r focus-visible:ring-0 appearance-none"});var t=e(e(T,!0));K(t,{variant:"secondary",class:"text-sm rounded-l-none ring-0",onclick:()=>D(_,P(U())),children:(r,o)=>{var A=Te();n(r,A)},$$slots:{default:!0}}),W("submit",l,r=>Be(()=>m(r)),!1),n(y,l),N()}var Ae=i("Query ID",1),ze=i("Randomize",1),Re=i('<form class="flex container py-6 flex-col gap-4 overflow-auto"><div class="grid gap-2"><!> <div class="flex relative ring-1 ring-ds-gray-400 rounded-md transition-all duration-300 focus-within:ring-2 focus-within:ring-ds-gray-600"><!> <!></div></div></form>');function Qe(y,B){M(B,!0);const a={};O(a);const p=()=>b(V,"$page",a),d=()=>b(Y,"$mainButton",a),R=()=>b(_,"$stream",a),h=p().url.searchParams.get("streamAddress")||"",_=J(ee(h));let m=Q(void 0),l=Q(0);X(()=>{if(d()&&f(m))return d().setText("Deploy Batch").enable().show(),d().on("click",()=>{var r;return(r=f(m))==null?void 0:r.requestSubmit()});d().hide().disable()}),G(()=>{d().hide().disable()});async function S(t){t.preventDefault();const r=new FormData(t.currentTarget),o={queryId:BigInt(r.get("queryId"))};await R().deploySubscriptionBatch(o)}var u=Re();j(u,t=>D(m,P(t)),()=>f(m));var F=s(u),w=s(F);x(w,{for:"queryId",class:"w-fit",children:(t,r)=>{var o=Ae();n(t,o)},$$slots:{default:!0}});var C=e(e(w,!0)),k=s(C);q(k,{id:"queryId",type:"number",name:"queryId",placeholder:"101",required:!0,get value(){return f(l)},set value(t){D(l,P(t))},class:"rounded-r-none border-0 border-r focus-visible:ring-0 appearance-none"});var T=e(e(k,!0));K(T,{variant:"secondary",class:"text-sm rounded-l-none ring-0",onclick:()=>D(l,P(U())),children:(t,r)=>{var o=ze();n(t,o)},$$slots:{default:!0}}),W("submit",u,S,!1),n(y,u),N()}var Ee=i("Query ID",1),Le=i("Randomize",1),Me=i('<form class="flex container py-6 flex-col gap-4 overflow-auto"><div class="grid gap-2"><!> <div class="flex relative ring-1 ring-ds-gray-400 rounded-md transition-all duration-300 focus-within:ring-2 focus-within:ring-ds-gray-600"><!> <!></div></div></form>');function Ne(y,B){M(B,!0);const a={};O(a);const p=()=>b(V,"$page",a),d=()=>b(Y,"$mainButton",a),R=()=>b(_,"$stream",a),h=p().url.searchParams.get("streamAddress")||"",_=J(ee(h));let m=Q(void 0),l=Q(0);X(()=>{if(d()&&f(m))return d().setText("Deploy Session").enable().show(),d().on("click",()=>{var r;return(r=f(m))==null?void 0:r.requestSubmit()});d().hide().disable()}),G(()=>{d().hide().disable()});async function S(t){t.preventDefault();const r=new FormData(t.currentTarget),o={queryId:BigInt(r.get("queryId"))};await R().deploySession(o)}var u=Me();j(u,t=>D(m,P(t)),()=>f(m));var F=s(u),w=s(F);x(w,{for:"queryId",class:"w-fit",children:(t,r)=>{var o=Ee();n(t,o)},$$slots:{default:!0}});var C=e(e(w,!0)),k=s(C);q(k,{id:"queryId",type:"number",name:"queryId",placeholder:"101",required:!0,get value(){return f(l)},set value(t){D(l,P(t))},class:"rounded-r-none border-0 border-r focus-visible:ring-0 appearance-none"});var T=e(e(k,!0));K(T,{variant:"secondary",class:"text-sm rounded-l-none ring-0",onclick:()=>D(l,P(U())),children:(t,r)=>{var o=Le();n(t,o)},$$slots:{default:!0}}),W("submit",u,S,!1),n(y,u),N()}var Oe=i("Start",1),He=i("End",1),Ve=i("Open",1),We=i("High",1),Ye=i("Low",1),je=i("Close",1),Ke=i("Query ID",1),Ue=i("Randomize",1),Xe=i('<form class="flex container py-6 flex-1 flex-col gap-4"><div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <div class="flex relative ring-1 ring-ds-gray-400 rounded-md transition-all duration-300 focus-within:ring-2 focus-within:ring-ds-gray-600"><!> <!></div></div></form>');function Ge(y,B){M(B,!0);const a={};O(a);const p=()=>b(V,"$page",a),d=()=>b(Y,"$mainButton",a),R=()=>b(_,"$stream",a),h=p().url.searchParams.get("streamAddress")||"",_=J(ee(h));let m=Q(void 0),l=Q(0);X(()=>{if(d()&&f(m))return d().setText("Publish Candlestick").enable().show(),d().on("click",()=>{var g;return(g=f(m))==null?void 0:g.requestSubmit()});d().hide().disable()}),G(()=>{d().hide().disable()});async function S(c){c.preventDefault();const g=new FormData(c.currentTarget),$=g.get("start"),oe=g.get("end"),ne=g.get("open"),ie=g.get("high"),de=g.get("low"),le=g.get("close");if($&&oe&&ne&&ie&&de&&le){const be={candlestick:{start:BigInt($),end:BigInt(oe),open:BigInt(ne),high:BigInt(ie),low:BigInt(de),close:BigInt(le)},queryId:BigInt(g.get("queryId"))};await R().publishCandlestick(be)}}var u=Xe();j(u,c=>D(m,P(c)),()=>f(m));var F=s(u),w=s(F);x(w,{for:"start",class:"w-fit",children:(c,g)=>{var $=Oe();n(c,$)},$$slots:{default:!0}});var C=e(e(w,!0));q(C,{id:"start",type:"number",name:"start",placeholder:"1718207640",required:!0});var k=e(e(F,!0)),T=s(k);x(T,{for:"end",class:"w-fit",children:(c,g)=>{var $=He();n(c,$)},$$slots:{default:!0}});var t=e(e(T,!0));q(t,{id:"end",type:"number",name:"end",placeholder:"1718207699",required:!0});var r=e(e(k,!0)),o=s(r);x(o,{id:"open",class:"w-fit",children:(c,g)=>{var $=Ve();n(c,$)},$$slots:{default:!0}});var A=e(e(o,!0));q(A,{id:"open",type:"number",name:"open",placeholder:"6969709",required:!0});var L=e(e(r,!0)),H=s(L);x(H,{for:"high",class:"w-fit",children:(c,g)=>{var $=We();n(c,$)},$$slots:{default:!0}});var Z=e(e(H,!0));q(Z,{id:"high",type:"number",name:"high",placeholder:"6969774",required:!0});var v=e(e(L,!0)),I=s(v);x(I,{for:"low",class:"w-fit",children:(c,g)=>{var $=Ye();n(c,$)},$$slots:{default:!0}});var z=e(e(I,!0));q(z,{id:"low",type:"number",name:"low",placeholder:"6970129",required:!0});var re=e(e(v,!0)),te=s(re);x(te,{for:"close",class:"w-fit",children:(c,g)=>{var $=je();n(c,$)},$$slots:{default:!0}});var fe=e(e(te,!0));q(fe,{id:"close",type:"number",name:"close",placeholder:"6966979",required:!0});var pe=e(e(re,!0)),ae=s(pe);x(ae,{for:"queryId",class:"w-fit",children:(c,g)=>{var $=Ke();n(c,$)},$$slots:{default:!0}});var ge=e(e(ae,!0)),se=s(ge);q(se,{id:"queryId",type:"number",name:"queryId",placeholder:"101",required:!0,get value(){return f(l)},set value(c){D(l,P(c))},class:"rounded-r-none border-0 border-r focus-visible:ring-0 appearance-none"});var $e=e(e(se,!0));K($e,{variant:"secondary",class:"text-sm rounded-l-none ring-0",onclick:()=>D(l,P(U())),children:(c,g)=>{var $=Ue();n(c,$)},$$slots:{default:!0}}),W("submit",u,S,!1),n(y,u),N()}var Je=i("Stream Address",1),Ze=i("Notifications Count",1),er=i("Expiration Time",1),rr=i("Subscriber ID",1),tr=i("Randomize",1),ar=i('<form class="flex container py-6 flex-col gap-4 overflow-auto"><div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <div class="flex relative ring-1 ring-ds-gray-400 rounded-md transition-all duration-300 focus-within:ring-2 focus-within:ring-ds-gray-600"><!> <!></div></div></form>');function sr(y,B){M(B,!0);const a={};O(a);const p=()=>b(Y,"$mainButton",a),d=()=>b(E,"$simpleSubscriber",a),R=()=>b(ve,"$hapticFeedback",a),E=Pe();let h=Q(void 0),_=Q(0);X(()=>{if(p()&&f(h))return p().setText("Deploy Simple Subscriber").enable().show(),p().on("click",()=>{var I;return(I=f(h))==null?void 0:I.requestSubmit()});p().hide().disable()}),G(()=>{p().hide().disable()});async function m(v){v.preventDefault();const I=new FormData(v.currentTarget),z={stream:I.get("stream"),notificationsCount:BigInt(I.get("notificationsCount")),expiresAt:BigInt(new Date(I.get("exp")).getTime()/1e3),subscriberId:BigInt(I.get("subscriberId"))};await d().deploy(z)}var l=ar();j(l,v=>D(h,P(v)),()=>f(h));var S=s(l),u=s(S);x(u,{class:"flex flex-col gap-2",children:(v,I)=>{var z=Je();n(v,z)},$$slots:{default:!0}});var F=e(e(u,!0));q(F,{type:"text",name:"stream",placeholder:"0QDCiYqpPo9esMDX35_BWYcsR1NKS7lbnPcPF6IMH8MNx2Lj",required:!0});var w=e(e(S,!0)),C=s(w);x(C,{class:"flex flex-col gap-2",children:(v,I)=>{var z=Ze();n(v,z)},$$slots:{default:!0}});var k=e(e(C,!0));q(k,{type:"number",name:"notificationsCount",placeholder:"777",required:!0,min:"0"});var T=e(e(w,!0)),t=s(T);x(t,{for:"exp",class:"w-fit",children:(v,I)=>{var z=er();n(v,z)},$$slots:{default:!0}});var r=e(e(t,!0));q(r,{id:"exp",type:"datetime-local",name:"exp",required:!0,onchange:()=>R().selectionChanged()});var o=e(e(T,!0)),A=s(o);x(A,{for:"subscriberId",class:"w-fit",children:(v,I)=>{var z=rr();n(v,z)},$$slots:{default:!0}});var L=e(e(A,!0)),H=s(L);q(H,{id:"subscriberId",type:"number",name:"subscriberId",placeholder:"101",required:!0,get value(){return f(_)},set value(v){D(_,P(v))},class:"rounded-r-none border-0 border-r focus-visible:ring-0 appearance-none"});var Z=e(e(H,!0));K(Z,{variant:"secondary",class:"text-sm rounded-l-none ring-0",onclick:()=>D(_,P(U())),children:(v,I)=>{var z=tr();n(v,z)},$$slots:{default:!0}}),W("submit",l,m,!1),n(y,l),N()}var or=i('<meta name="description"> <meta name="robots" content="noindex, nofollow">',1),nr=i('<div class="bg-ds-background-100 border-b"><div class="container py-6 grid gap-1.5"><h1 class="text-lg font-medium text-center text-balance"> </h1> <p class="text-ds-gray-900 text-center text-balance"> </p></div></div> <!>',1);function _r(y,B){M(B,!1);const a={};O(a);const p=()=>b(V,"$page",a),d=()=>b(De,"$backButton",a),R=()=>b(h,"$contractType",a),E={stream:Ce,batch:Qe,session:Ne,candlestick:Ge,subscriber:sr},h=_e(V,t=>{const r=t.url.searchParams.get("contract")||"stream";return r in E?r:"stream"}),_=p().url.searchParams.get("title")||"Fill out the form",m=p().url.searchParams.get("subtitle")||"";me(()=>{d().show();const t=d().on("click",()=>{history.back()});return()=>{t(),d().hide()}}),xe();var l=nr();he(t=>{var r=or(),o=ce(r);qe(o,"content",`Fill out the form below to deploy your own ${m??""}.`);var A=e(e(o,!0));we(()=>ye.title=`Deploy ${_??""}`),n(t,r)});var S=ce(l),u=s(S),F=s(u),w=s(F);w.nodeValue=`Deploy ${_??""}`;var C=e(e(F,!0)),k=s(C);k.nodeValue=`Fill out the form below to deploy your own ${m??""}.`;var T=e(e(S,!0));Ie(()=>E[R()],t=>{t(T,{$$legacy:!0})}),n(y,l),N()}export{_r as component};
//# sourceMappingURL=19.CJH_Gh_W.js.map
