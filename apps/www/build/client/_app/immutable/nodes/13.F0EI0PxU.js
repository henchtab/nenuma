import{b as oe,i as me,a as o,t as f,f as Y,c as u,e as Te,w as tt,s as e,h as kt,$ as It}from"../chunks/disclose-version.B_3xlfoo.js";import{d as rt,w as We,al as at,g as nt,p as se,aE as X,aF as ot,b as i,t as Ze,a as le,z as it,ai as ue,s as O,x as Ye,c as U,ae as He,o as Ge}from"../chunks/index.mbo8UwIt.js";import{c as Tt}from"../chunks/7.Bb1C-sr3.js";import{u as be,i as De,c as st,a as W}from"../chunks/store.CnbCU3_O.js";import{h as Pe,m as Ue,d as ne,b as Pt}from"../chunks/tma.BAfuEean.js";import{p as Ae}from"../chunks/stores.BCG-awgS.js";import{i as lt,b as qe,p as D}from"../chunks/this.5ZPbIZBj.js";import{i as At,b as Ie,o as Dt,m as Ke,d as Je,e as qt,c as Xe,k as j,f as Ot,n as zt,g as Ct,a as dt,h as Bt,j as Vt,B as Ne}from"../chunks/index.BTn3vRik.js";import{u as ut,L as M,I as H,b as Rt}from"../chunks/index.BMqhn17J.js";import{d as _e}from"../chunks/misc.DsIM4tTz.js";import{l as ie,p as E,s as ct}from"../chunks/props.DeK5Z2bj.js";import{g as Ft,a as Nt,C as vt,T as ft,b as gt}from"../chunks/trending-up.Bvj4wNc3.js";import{t as Et,o as St,r as Wt,g as Gt}from"../chunks/updater.CYOjHiav.js";import{s as Lt}from"../chunks/sleep.D7VRLSd8.js";import{b as pt,a as Qe,r as Ee,g as Mt}from"../chunks/utils.DL8PkvAU.js";import{t as K}from"../chunks/Toaster.svelte_svelte_type_style_lang.CEVEthHX.js";(function(){try{var c=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(c._sentryDebugIds=c._sentryDebugIds||{},c._sentryDebugIds[t]="b894de3f-41e6-4829-8ee3-bfc8c16d1c6d",c._sentryDebugIdIdentifier="sentry-dbid-b894de3f-41e6-4829-8ee3-bfc8c16d1c6d")}catch{}})();function pe(c){At&&Lt(1).then(()=>{const t=document.activeElement;!Ie(t)||t===c||(t.tabIndex=-1,c&&(c.tabIndex=0,c.focus()))})}const Yt={type:"single",orientation:"horizontal",loop:!0,rovingFocus:!0,disabled:!1,defaultValue:""},{name:et,selector:Fe}=Ot("toggle-group"),Zt=c=>{const t={...Yt,...c},s=Et(Dt(t,"value")),{type:z,orientation:l,loop:p,rovingFocus:m,disabled:F}=s,T=t.defaultValue?t.defaultValue:t.type==="single"?void 0:[],C=t.value??We(T),d=St(C,t==null?void 0:t.onValueChange),y=Ke(et(),{stores:l,returned:n=>({role:"group","data-orientation":n})}),I=Ke(et("item"),{stores:[d,F,l,z],returned:([n,w,_,$])=>b=>{const N=typeof b=="string"?b:b.value,G=typeof b=="string"?!1:!!b.disabled,S=w||G,r=Array.isArray(n)?n.includes(N):n===N,g=$==="single",P=$==="multiple"||$===void 0;return{disabled:Je(S),pressed:r,"data-orientation":_,"data-disabled":Je(S),"data-state":r?"on":"off","data-value":N,"aria-pressed":P?r:void 0,"aria-checked":g?r:void 0,type:"button",role:g?"radio":void 0,tabindex:r?0:-1}},action:n=>{let w=zt;const _=n.closest(Fe());if(!Ie(_))return{};const $=Array.from(_.querySelectorAll(Fe("item"))),b=d.get();!(Array.isArray(b)?b.length>0:!!b)&&$[0]===n&&(n.tabIndex=0);function G(){const r=n.dataset.value,g=n.dataset.disabled==="true";return{value:r,disabled:g}}function S(){const{value:r,disabled:g}=G();r===void 0||g||d.update(P=>Array.isArray(P)?P.includes(r)?P.filter(q=>q!==r):[...P,r]:P===r?void 0:r)}return w=qt(Xe(n,"click",()=>{S()}),Xe(n,"keydown",r=>{if(r.key===j.SPACE||r.key===j.ENTER){r.preventDefault(),S();return}if(!m.get())return;const g=r.currentTarget;if(!Ie(g))return;const P=g.closest(Fe());if(!Ie(P))return;const q=Array.from(P.querySelectorAll(Fe("item")+":not([data-disabled])")).filter(Z=>Ie(Z)),h=q.indexOf(g),L=Ft(g),V=l.get(),ee={horizontal:L==="rtl"?j.ARROW_LEFT:j.ARROW_RIGHT,vertical:j.ARROW_DOWN}[V??"horizontal"],ce={horizontal:L==="rtl"?j.ARROW_RIGHT:j.ARROW_LEFT,vertical:j.ARROW_UP}[V??"horizontal"],J=p.get();if(r.key===ee){r.preventDefault();const Z=h+1;Z>=q.length&&J?pe(q[0]):pe(q[Z])}else if(r.key===ce){r.preventDefault();const Z=h-1;Z<0&&J?pe(q[q.length-1]):pe(q[Z])}else r.key===j.HOME?(r.preventDefault(),pe(q[0])):r.key===j.END&&(r.preventDefault(),pe(q[q.length-1]))})),{destroy:w}}}),B=rt(d,n=>w=>Array.isArray(n)?n.includes(w):n===w);return{elements:{root:y,item:I},states:{value:d},helpers:{isPressed:B},options:s}};function mt(){return{NAME:"toggle-group",PARTS:["root","item"]}}function Ht(c){const{NAME:t,PARTS:s}=mt(),z=Ct(t,s),l={...Zt(Wt(c)),getAttrs:z};return at(t,l),{...l,updateOption:Gt(l.options)}}function Ut(){const{NAME:c}=mt();return nt(c)}var Qt=f("<div><!></div>");function jt(c,t){const s=ie(t,["children","$$slots","$$events","$$legacy"]),z=ie(s,["type","disabled","loop","value","orientation","onValueChange","asChild","el"]);se(t,!1);const l={};be(l);const p=()=>W(w,"$root",l),m=it();let F=E(t,"type",0,"single"),T=E(t,"disabled",8,()=>{}),C=E(t,"loop",8,()=>{}),d=E(t,"value",12,()=>{}),y=E(t,"orientation",8,()=>{}),I=E(t,"onValueChange",8,()=>{}),B=E(t,"asChild",0,!1),n=E(t,"el",12,()=>{});const{elements:{root:w},states:{value:_},updateOption:$,getAttrs:b}=Ht({disabled:T(),type:F(),defaultValue:d(),loop:C(),orientation:y(),onValueChange:({next:r})=>{var g,P;return Array.isArray(r)?((!Array.isArray(d())||!Nt(d(),r))&&((g=I())==null||g(r),d(r)),r):(d()!==r&&((P=I())==null||P(r),d(r)),r)}}),N=b("root");X(()=>ue(d()),()=>{d()!==void 0&&_.set(Array.isArray(d())?[...d()]:d())}),X(()=>ue(T()),()=>{$("disabled",T())}),X(()=>ue(C()),()=>{$("loop",C())}),X(()=>ue(F()),()=>{$("type",F())}),X(()=>ue(y()),()=>{$("orientation",y())}),X(()=>p(),()=>{O(m,p())}),X(()=>i(m),()=>{Object.assign(i(m),N)}),ot(),De();var G=oe(),S=Y(G);lt(S,B,r=>{var g=oe(),P=Y(g);me(P,_e(t),{get builder(){return i(m)}},null),o(r,g)},r=>{var g=Qt();qe(g,h=>n(h),()=>n());let P;var q=u(g);me(q,_e(t),{get builder(){return i(m)}},null),Ze(()=>P=st(g,P,{...i(m),...z},!0,"")),dt(g,h=>i(m).action(h)),o(r,g)}),o(c,G),le()}var Kt=f("<button><!></button>");function Jt(c,t){const s=ie(t,["children","$$slots","$$events","$$legacy"]),z=ie(s,["value","disabled","asChild","el"]);se(t,!1);const l={};be(l);const p=()=>W(y,"$item",l),m=it();let F=E(t,"value"),T=E(t,"disabled",0,!1),C=E(t,"asChild",0,!1),d=E(t,"el",12,()=>{});const{elements:{item:y},getAttrs:I}=Ut(),B=Bt(),n=I("item");X(()=>(p(),ue(F()),ue(T())),()=>{O(m,p()({value:F(),disabled:T()}))}),X(()=>i(m),()=>{Object.assign(i(m),n)}),ot(),De();var w=oe(),_=Y(w);lt(_,C,$=>{var b=oe(),N=Y(b);me(N,_e(t),{get builder(){return i(m)}},null),o($,b)},$=>{var b=Kt();qe(b,S=>d(S),()=>d());let N;var G=u(b);me(G,_e(t),{get builder(){return i(m)}},null),Ze(()=>N=st(b,N,{...i(m),...z},!0,"")),dt(b,S=>i(m).action(S)),Te("m-click",b,B,!1),Te("m-keydown",b,B,!1),o($,b)}),o(c,w),le()}function _t(c,t){const s=ie(t,["children","$$slots","$$events","$$legacy"]),z=ie(s,["class","variant","size","value"]);se(t,!1);let l=E(t,"class",8,()=>{}),p=E(t,"variant",0,"default"),m=E(t,"size",0,"default"),F=E(t,"value",12,()=>{});er({variant:p(),size:m()}),De();var T=oe(),C=Y(T),d=Ye(()=>pt("flex items-center border rounded-md w-fit justify-center",l()));jt(C,ct({get class(){return i(d)},get value(){return F()},set value(y){F(y)}},()=>z,{children:(y,I)=>{const B=Ye(()=>I.builder);var n=oe(),w=Y(n);me(w,_e(t),{get builder(){return i(B)}},null),o(y,n)},$$slots:{default:!0},$$legacy:!0})),o(c,T),le()}const Xt=Vt({base:"inline-flex items-center border-r first:rounded-l-md last:border-r-0 last:rounded-r-md justify-center text-sm font-medium transition-colors hover:bg-ds-gray-100 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ds-gray-600 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-ds-blue-200 data-[state=on]:text-ds-blue-900",variants:{variant:{default:"bg-transparent"},size:{default:"h-9 px-3",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}});function Se(c,t){const s=ie(t,["children","$$slots","$$events","$$legacy"]),z=ie(s,["class","variant","size","value"]);se(t,!1);let l=E(t,"class",8,()=>{}),p=E(t,"variant",0,"default"),m=E(t,"size",0,"default"),F=E(t,"value");const T=tr();De();var C=oe(),d=Y(C),y=Ye(()=>pt(Xt({variant:T.variant||p(),size:T.size||m()}),l()));Jt(d,ct({get class(){return i(y)},get value(){return F()}},()=>z,{children:(I,B)=>{var n=oe(),w=Y(n);me(w,_e(t),{},null),o(I,n)},$$slots:{default:!0},$$legacy:!0})),o(c,C),le()}function er(c){at("toggleGroup",c)}function tr(){return nt("toggleGroup")}var rr=f("Query ID",1),ar=f("Randomize",1),nr=f("Holder",1),or=f("Initiation",1),ir=f("Expiration",1),sr=(c,t,s)=>t().selectionChanged(),lr=f("Option Type",1),dr=f("<!> Call",1),ur=f("<!> Put",1),cr=f("<!> <!>",1),vr=f("Investment",1),fr=f('<form class="flex container py-6 flex-col gap-4 overflow-auto"><div class="grid gap-2"><!> <div class="flex relative ring-1 ring-ds-gray-400 rounded-md transition-all duration-300 focus-within:ring-2 focus-within:ring-ds-gray-600"><!> <!></div></div> <div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <div class="relative flex items-center"><select class="flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-ds-gray-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ds-gray-600 disabled:cursor-not-allowed disabled:opacity-50 appearance-none" id="expiration" name="expiration" required><option>2 minutes</option><option>3 minutes</option><option>4 minutes</option><option>5 minutes</option></select> <!></div></div> <div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <div class="relative flex items-center"><!> <span class="absolute right-3 select-none text-sm font-medium text-ds-gray-1000">TON</span></div></div></form>');function gr(c,t){se(t,!0);const s={};be(s);const z=()=>W(Ae,"$page",s),l=()=>W(Ue,"$mainButton",s),p=()=>W(Pe,"$hapticFeedback",s),m=()=>W(C,"$broker",s),T=z().url.searchParams.get("broker")||"",C=ut(We(T));let d=U(void 0),y=U(void 0),I=U(D(n(3))),B=U(void 0);He(()=>{if(l()&&i(d))return l().setText("Deploy Option").enable().show(),l().on("click",()=>{var A;(A=i(d))==null||A.requestSubmit(),p().impactOccurred("heavy")});l().hide().disable()}),Ge(()=>{const v=setInterval(()=>{i(I)<n(3)&&O(I,D(n(3)))},3e4);return()=>{l().hide().disable(),clearInterval(v)}});function n(v){return Qe(new Date(Date.now()+1e3*60*v))}async function w(v){v.preventDefault();const A=new FormData(v.currentTarget);A.set("optionType",i(B));for(const[Q,te]of A)if(!te){p().notificationOccurred("error"),K.error("Please fill in all the fields");return}const R=A.get("initiation"),de=BigInt(new Date(`${new Date().toDateString()} ${R}`).getTime()/1e3);try{const Q={queryId:BigInt(A.get("queryId")),draft:{holder:ne.Address.parse(A.get("holder").trim()),initiation:de,expiration:BigInt(de+BigInt(A.get("expiration"))*60n),optionType:!!A.get("optionType"),investment:ne.toNano(A.get("investment"))}};await m().deployOption(Q)}catch(Q){p().notificationOccurred("error"),console.log(Q),Q instanceof Error?K.error(Q.message):K.error("An error occurred while deploying the option")}}var _=fr();qe(_,v=>O(d,D(v)),()=>i(d));var $=u(_),b=u($);M(b,{for:"queryId",class:"w-fit",children:(v,A)=>{var R=rr();o(v,R)},$$slots:{default:!0}});var N=e(e(b,!0)),G=u(N);H(G,{id:"queryId",type:"number",name:"queryId",placeholder:"101",required:!0,get value(){return i(y)},set value(v){O(y,D(v))},class:"rounded-r-none border-0 border-r focus-visible:ring-0 appearance-none"});var S=e(e(G,!0));Ne(S,{variant:"secondary",class:"text-sm rounded-l-none ring-0",onclick:()=>O(y,D(Ee())),children:(v,A)=>{var R=ar();o(v,R)},$$slots:{default:!0}});var r=e(e($,!0)),g=u(r);M(g,{for:"holder",class:"w-fit",children:(v,A)=>{var R=nr();o(v,R)},$$slots:{default:!0}});var P=e(e(g,!0));H(P,{id:"holder",type:"text",name:"holder",placeholder:"0QAXeOTnpkBx_A6zKVxAYNDYqNuWPyrZkYZySJRZ_-zV4gLV",required:!0});var q=e(e(r,!0)),h=u(q);M(h,{for:"initiation",class:"w-fit",children:(v,A)=>{var R=or();o(v,R)},$$slots:{default:!0}});var L=e(e(h,!0));H(L,{id:"initiation",type:"time",name:"initiation",get min(){return i(I)},get value(){return i(I)},set value(v){O(I,D(v))},required:!0,onchange:()=>p().selectionChanged()});var V=e(e(q,!0)),ee=u(V);M(ee,{for:"expiration",class:"w-fit",children:(v,A)=>{var R=ir();o(v,R)},$$slots:{default:!0}});var ce=e(e(ee,!0)),J=u(ce);J.__change=[sr,p,Pe];var Z=u(J);Z.value=(Z.__value="2")==null?"":"2";var ve=e(Z);ve.value=(ve.__value="3")==null?"":"3";var fe=e(ve);fe.value=(fe.__value="4")==null?"":"4";var Oe=e(fe);Oe.value=(Oe.__value="5")==null?"":"5";var ze=e(e(J,!0));vt(ze,{size:16,"stroke-width":1.5,class:"absolute right-2 text-ds-gray-900"});var he=e(e(V,!0)),Ce=u(he);M(Ce,{for:"optionType",class:"w-fit",children:(v,A)=>{var R=lr();o(v,R)},$$slots:{default:!0}});var Be=e(e(Ce,!0));_t(Be,{type:"single",id:"optionType","aria-required":!0,get value(){return i(B)},set value(v){O(B,D(v))},onValueChange:()=>p().selectionChanged(),children:(v,A)=>{var R=cr(),de=Y(R);Se(de,{value:"true",children:(te,Le)=>{var re=dr(),ge=Y(re);ft(ge,{size:16,"stroke-width":1.5,class:"mr-2"}),o(te,re)},$$slots:{default:!0}});var Q=e(e(de,!0));Se(Q,{value:"false",children:(te,Le)=>{var re=ur(),ge=Y(re);gt(ge,{size:16,"stroke-width":1.5,class:"mr-2"}),o(te,re)},$$slots:{default:!0}}),o(v,R)},$$slots:{default:!0}});var Ve=e(e(he,!0)),Re=u(Ve);M(Re,{for:"investment",class:"w-fit",children:(v,A)=>{var R=vr();o(v,R)},$$slots:{default:!0}});var ye=e(e(Re,!0)),$e=u(ye);H($e,{class:"pr-12",id:"investment",type:"number",name:"investment",placeholder:"100",step:"any",required:!0}),Te("submit",_,w,!1),o(c,_),le()}tt(["change"]);var pr=f("Query ID",1),mr=f("Randomize",1),_r=f("Deposit",1),br=f('<form class="flex container py-6 flex-col gap-4 overflow-auto"><div class="grid gap-2"><!> <div class="flex relative ring-1 ring-ds-gray-400 rounded-md transition-all duration-300 focus-within:ring-2 focus-within:ring-ds-gray-600"><!> <!></div></div> <div class="grid gap-2"><!> <div class="relative flex items-center"><!> <span class="absolute right-3 select-none text-sm font-medium text-ds-gray-1000">TON</span></div></div></form>');function hr(c,t){se(t,!0);const s={};be(s);const z=()=>W(Ae,"$page",s),l=()=>W(Ue,"$mainButton",s),p=()=>W(Pe,"$hapticFeedback",s),m=()=>W(C,"$broker",s),T=z().url.searchParams.get("broker")||"",C=ut(We(T));let d=U(void 0),y=U(void 0),I=U(D(n(3))),B;He(()=>{if(l()&&i(d))return l().setText("Deposit").enable().show(),l().on("click",()=>{var L;(L=i(d))==null||L.requestSubmit(),p().impactOccurred("heavy")});l().hide().disable()}),Ge(()=>{const h=setInterval(()=>{i(I)<n(3)&&O(I,D(n(3)))},3e4);return()=>{l().hide().disable(),clearInterval(h)}});function n(h){return Qe(new Date(Date.now()+1e3*60*h))}async function w(h){h.preventDefault();const L=new FormData(h.currentTarget);L.set("optionType",B);for(const[V,ee]of L)if(!ee){p().notificationOccurred("error"),K.error("Please fill in all the fields");return}try{const V={queryId:BigInt(L.get("queryId")),deposit:ne.toNano(L.get("deposit"))};await m().deposit(V)}catch(V){p().notificationOccurred("error"),console.log(V),V instanceof Error?K.error(V.message):K.error("An error occurred while deploying the option")}}var _=br();qe(_,h=>O(d,D(h)),()=>i(d));var $=u(_),b=u($);M(b,{for:"queryId",class:"w-fit",children:(h,L)=>{var V=pr();o(h,V)},$$slots:{default:!0}});var N=e(e(b,!0)),G=u(N);H(G,{id:"queryId",type:"number",name:"queryId",placeholder:"101",required:!0,get value(){return i(y)},set value(h){O(y,D(h))},class:"rounded-r-none border-0 border-r focus-visible:ring-0 appearance-none"});var S=e(e(G,!0));Ne(S,{variant:"secondary",class:"text-sm rounded-l-none ring-0",onclick:()=>O(y,D(Ee())),children:(h,L)=>{var V=mr();o(h,V)},$$slots:{default:!0}});var r=e(e($,!0)),g=u(r);M(g,{for:"deposit",class:"w-fit",children:(h,L)=>{var V=_r();o(h,V)},$$slots:{default:!0}});var P=e(e(g,!0)),q=u(P);H(q,{class:"pr-12",id:"deposit",type:"number",name:"deposit",placeholder:"100",step:"any",required:!0}),Te("submit",_,w,!1),o(c,_),le()}var yr=f("Option ID",1),$r=f("Randomize",1),xr=f("Query ID",1),wr=f("Randomize",1),kr=f("Holder",1),Ir=f("Writer",1),Tr=f("Initiation",1),Pr=f("Expiration",1),Ar=(c,t,s)=>t().selectionChanged(),Dr=f("Option Type",1),qr=f("<!> Call",1),Or=f("<!> Put",1),zr=f("<!> <!>",1),Cr=f("Investment",1),Br=f("Payout",1),Vr=f('<form class="flex container py-6 flex-col gap-4 overflow-auto"><div class="grid gap-2"><!> <div class="flex relative ring-1 ring-ds-gray-400 rounded-md transition-all duration-300 focus-within:ring-2 focus-within:ring-ds-gray-600"><!> <!></div></div> <div class="grid gap-2"><!> <div class="flex relative ring-1 ring-ds-gray-400 rounded-md transition-all duration-300 focus-within:ring-2 focus-within:ring-ds-gray-600"><!> <!></div></div> <div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <div class="relative flex items-center"><select class="flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-ds-gray-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ds-gray-600 disabled:cursor-not-allowed disabled:opacity-50 appearance-none" id="expiration" name="expiration" required><option>2 minutes</option><option>3 minutes</option><option>4 minutes</option><option>5 minutes</option></select> <!></div></div> <div class="grid gap-2"><!> <!></div> <div class="grid gap-2"><!> <div class="relative flex items-center"><!> <span class="absolute right-3 select-none text-sm font-medium text-ds-gray-1000">TON</span></div></div> <div class="grid gap-2"><!> <div class="relative flex items-center"><!> <span class="absolute right-3 select-none text-sm font-medium text-ds-gray-1000">TON</span></div></div></form>');function Rr(c,t){se(t,!0);const s={};be(s);const z=()=>W(Ae,"$page",s),l=()=>W(Ue,"$mainButton",s),p=()=>W(Pe,"$hapticFeedback",s),m=()=>W(d,"$option",s),F=()=>W(Mt,"$tonConnectUI",s),C=z().url.searchParams.get("stream")||"",d=Rt(We(C));let y=U(void 0),I=U(void 0),B=U(void 0),n=U(void 0),w=U(D($(3))),_=U(void 0);He(()=>{if(l()&&i(y))return l().setText("Deploy Option").enable().show(),l().on("click",()=>{var x;(x=i(y))==null||x.requestSubmit(),p().impactOccurred("heavy")});l().hide().disable()}),Ge(()=>{m()||K.error("There is no option. Please try again"),F().connectionRestored.then(()=>{const x=F().account;x&&O(I,D(ne.Address.parse(x.address).toString({testOnly:!0,bounceable:!1})))});const a=setInterval(()=>{i(w)<$(3)&&O(w,D($(3)))},1e3*30);return()=>{l().hide().disable(),clearInterval(a)}});function $(a){return Qe(new Date(Date.now()+1e3*60*a))}async function b(a){a.preventDefault();const x=new FormData(a.currentTarget);x.set("optionType",i(_));for(const[ae,we]of x)if(!we){p().notificationOccurred("error"),K.error("Please fill in all the fields");return}const k=x.get("initiation"),xe=BigInt(new Date(`${new Date().toDateString()} ${k}`).getTime()/1e3);try{const ae={optionId:BigInt(x.get("optionId")),queryId:BigInt(x.get("queryId")),agreement:{holder:ne.Address.parse(x.get("holder").trim()),writer:ne.Address.parse(x.get("writer").trim()),initiation:xe,expiration:BigInt(xe+BigInt(x.get("expiration"))*60n),optionType:!!x.get("optionType"),investment:ne.toNano(x.get("investment")),payout:ne.toNano(x.get("payout"))}};await m().deploy(ae)}catch(ae){p().notificationOccurred("error"),console.log(ae),ae instanceof Error?K.error(ae.message):K.error("An error occurred while deploying the option")}}var N=Vr();qe(N,a=>O(y,D(a)),()=>i(y));var G=u(N),S=u(G);M(S,{for:"optionId",class:"w-fit",children:(a,x)=>{var k=yr();o(a,k)},$$slots:{default:!0}});var r=e(e(S,!0)),g=u(r);H(g,{id:"optionId",type:"number",name:"optionId",placeholder:"101",required:!0,get value(){return i(B)},set value(a){O(B,D(a))},class:"rounded-r-none border-0 border-r focus-visible:ring-0 appearance-none"});var P=e(e(g,!0));Ne(P,{variant:"secondary",class:"text-sm rounded-l-none ring-0",onclick:()=>O(B,D(Ee())),children:(a,x)=>{var k=$r();o(a,k)},$$slots:{default:!0}});var q=e(e(G,!0)),h=u(q);M(h,{for:"queryId",class:"w-fit",children:(a,x)=>{var k=xr();o(a,k)},$$slots:{default:!0}});var L=e(e(h,!0)),V=u(L);H(V,{id:"queryId",type:"number",name:"queryId",placeholder:"101",required:!0,get value(){return i(n)},set value(a){O(n,D(a))},class:"rounded-r-none border-0 border-r focus-visible:ring-0 appearance-none"});var ee=e(e(V,!0));Ne(ee,{variant:"secondary",class:"text-sm rounded-l-none ring-0",onclick:()=>O(n,D(Ee())),children:(a,x)=>{var k=wr();o(a,k)},$$slots:{default:!0}});var ce=e(e(q,!0)),J=u(ce);M(J,{for:"holder",class:"w-fit",children:(a,x)=>{var k=kr();o(a,k)},$$slots:{default:!0}});var Z=e(e(J,!0));H(Z,{id:"holder",type:"text",name:"holder",placeholder:"0QAXeOTnpkBx_A6zKVxAYNDYqNuWPyrZkYZySJRZ_-zV4gLV",required:!0});var ve=e(e(ce,!0)),fe=u(ve);M(fe,{for:"writer",class:"w-fit",children:(a,x)=>{var k=Ir();o(a,k)},$$slots:{default:!0}});var Oe=e(e(fe,!0));H(Oe,{id:"writer",type:"text",name:"writer",get value(){return i(I)},set value(a){O(I,D(a))},placeholder:"0QAXeOTnpkBx_A6zKVxAYNDYqNuWPyrZkYZySJRZ_-zV4gLV",required:!0});var ze=e(e(ve,!0)),he=u(ze);M(he,{for:"initiation",class:"w-fit",children:(a,x)=>{var k=Tr();o(a,k)},$$slots:{default:!0}});var Ce=e(e(he,!0));H(Ce,{id:"initiation",type:"time",name:"initiation",get min(){return i(w)},get value(){return i(w)},set value(a){O(w,D(a))},required:!0,onchange:()=>p().selectionChanged()});var Be=e(e(ze,!0)),Ve=u(Be);M(Ve,{for:"expiration",class:"w-fit",children:(a,x)=>{var k=Pr();o(a,k)},$$slots:{default:!0}});var Re=e(e(Ve,!0)),ye=u(Re);ye.__change=[Ar,p,Pe];var $e=u(ye);$e.value=($e.__value="2")==null?"":"2";var v=e($e);v.value=(v.__value="3")==null?"":"3";var A=e(v);A.value=(A.__value="4")==null?"":"4";var R=e(A);R.value=(R.__value="5")==null?"":"5";var de=e(e(ye,!0));vt(de,{size:16,"stroke-width":1.5,class:"absolute right-2 text-ds-gray-900"});var Q=e(e(Be,!0)),te=u(Q);M(te,{for:"optionType",class:"w-fit",children:(a,x)=>{var k=Dr();o(a,k)},$$slots:{default:!0}});var Le=e(e(te,!0));_t(Le,{type:"single",id:"optionType","aria-required":!0,get value(){return i(_)},set value(a){O(_,D(a))},onValueChange:()=>p().selectionChanged(),children:(a,x)=>{var k=zr(),xe=Y(k);Se(xe,{value:"true",children:(we,wt)=>{var ke=qr(),Me=Y(ke);ft(Me,{size:16,"stroke-width":1.5,class:"mr-2"}),o(we,ke)},$$slots:{default:!0}});var ae=e(e(xe,!0));Se(ae,{value:"false",children:(we,wt)=>{var ke=Or(),Me=Y(ke);gt(Me,{size:16,"stroke-width":1.5,class:"mr-2"}),o(we,ke)},$$slots:{default:!0}}),o(a,k)},$$slots:{default:!0}});var re=e(e(Q,!0)),ge=u(re);M(ge,{for:"investment",class:"w-fit",children:(a,x)=>{var k=Cr();o(a,k)},$$slots:{default:!0}});var bt=e(e(ge,!0)),ht=u(bt);H(ht,{class:"pr-12",id:"investment",type:"number",name:"investment",placeholder:"100",step:"any",required:!0});var yt=e(e(re,!0)),je=u(yt);M(je,{for:"payout",class:"w-fit",children:(a,x)=>{var k=Br();o(a,k)},$$slots:{default:!0}});var $t=e(e(je,!0)),xt=u($t);H(xt,{class:"pr-12",id:"payout",type:"number",name:"payout",placeholder:"100",step:"any",required:!0}),Te("submit",N,b,!1),o(c,N),le()}tt(["change"]);var Fr=f('<meta name="robots" content="noindex, nofollow">'),Nr=f('<div class="bg-ds-background-100 border-b"><div class="container py-6 grid gap-1.5"><h1 class="text-lg font-medium text-center text-balance"> </h1> <p class="text-ds-gray-900 text-center text-balance">Fill out the form below</p></div></div> <!>',1);function ta(c,t){se(t,!1);const s={};be(s);const z=()=>W(Ae,"$page",s),l=()=>W(Pt,"$backButton",s),p=()=>W(F,"$contractType",s),m={brokerOption:gr,brokerDeposit:hr,option:Rr},F=rt(Ae,_=>{const $=_.url.searchParams.get("contract")||"option";return $ in m?$:"option"}),T=z().url.searchParams.get("title")||"Fill out the form";z().url.searchParams.get("subtitle");const C=z().url.searchParams.get("forceTitle")==="true";Ge(()=>{l().show();const _=l().on("click",()=>{history.back()});return()=>{_(),l().hide()}}),De();var d=Nr();kt(_=>{var $=Fr();Ze(()=>It.title=`
    ${(C?T:`Deploy ${T}`)??""}
  `),o(_,$)});var y=Y(d),I=u(y),B=u(I),n=u(B);n.nodeValue=C?T:`Deploy ${T}`;var w=e(e(y,!0));Tt(()=>m[p()],_=>{_(w,{$$legacy:!0})}),o(c,d),le()}export{ta as component};
//# sourceMappingURL=13.F0EI0PxU.js.map
