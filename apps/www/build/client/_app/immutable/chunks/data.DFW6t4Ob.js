import{P as u}from"./context.CrttRzP-.js";import{A as l,C as y}from"./tma.BAfuEean.js";import"./disclose-version.B_3xlfoo.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="6b8b87b0-251a-425d-8a41-368d16fe03ab",e._sentryDebugIdIdentifier="sentry-dbid-6b8b87b0-251a-425d-8a41-368d16fe03ab")}catch{}})();/*! js-cookie v3.0.5 | MIT */function f(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)e[i]=t[i]}return e}var w={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function p(e,r){function t(o,s,n){if(!(typeof document>"u")){n=f({},r,n),typeof n.expires=="number"&&(n.expires=new Date(Date.now()+n.expires*864e5)),n.expires&&(n.expires=n.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var a in n)n[a]&&(c+="; "+a,n[a]!==!0&&(c+="="+n[a].split(";")[0]));return document.cookie=o+"="+e.write(s,o)+c}}function i(o){if(!(typeof document>"u"||arguments.length&&!o)){for(var s=document.cookie?document.cookie.split("; "):[],n={},c=0;c<s.length;c++){var a=s[c].split("="),g=a.slice(1).join("=");try{var d=decodeURIComponent(a[0]);if(n[d]=e.read(g,d),o===d)break}catch{}}return o?n[o]:n}}return Object.create({set:t,get:i,remove:function(o,s){t(o,"",f({},s,{expires:-1}))},withAttributes:function(o){return p(this.converter,f({},this.attributes,o))},withConverter:function(o){return p(f({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(e)}})}var h=p(w,{path:"/"});async function C(){try{return{tonProof:(await(await fetch(`${u}/api/generate-proof-payload`,{method:"POST"})).json()).proofToken}}catch{return null}}async function b(e,r){try{const t={address:r.address,network:r.chain,public_key:r.publicKey,proof:{...e,state_init:r.walletStateInit}},i=await(await fetch(`${u}/api/check-proof`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json();i!=null&&i.token&&h.set(l,i.token,{expires:y,sameSite:"Lax"})}catch(t){console.log("checkProof error:",t)}}async function x(){const e=await fetch(`${u}/api/account-info`,{headers:{Authorization:`Bearer ${h.get(l)}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error(e.statusText);return await e.json()}function O(){h.remove(l),C()}export{x as a,b as c,C as g,O as r};
//# sourceMappingURL=data.DFW6t4Ob.js.map
