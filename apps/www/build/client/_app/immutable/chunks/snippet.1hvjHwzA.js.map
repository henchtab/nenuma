{"version":3,"file":"snippet.1hvjHwzA.js","sources":["../../../../../../../../node_modules/.pnpm/svelte@5.0.0-next.166/node_modules/svelte/src/internal/client/dom/blocks/snippet.js"],"sourcesContent":["import { add_snippet_symbol } from '../../../shared/validate.js';\nimport { EFFECT_TRANSPARENT } from '../../constants.js';\nimport { branch, block, destroy_effect } from '../../reactivity/effects.js';\nimport {\n\tcurrent_component_context,\n\tdev_current_component_function,\n\tset_dev_current_component_function\n} from '../../runtime.js';\n\n/**\n * @template {(node: import('#client').TemplateNode, ...args: any[]) => import('#client').Dom} SnippetFn\n * @param {() => SnippetFn | null | undefined} get_snippet\n * @param {import('#client').TemplateNode} node\n * @param {(() => any)[]} args\n * @returns {void}\n */\nexport function snippet(get_snippet, node, ...args) {\n\t/** @type {SnippetFn | null | undefined} */\n\tvar snippet;\n\n\t/** @type {import('#client').Effect | null} */\n\tvar snippet_effect;\n\n\tblock(() => {\n\t\tif (snippet === (snippet = get_snippet())) return;\n\n\t\tif (snippet_effect) {\n\t\t\tdestroy_effect(snippet_effect);\n\t\t\tsnippet_effect = null;\n\t\t}\n\n\t\tif (snippet) {\n\t\t\tsnippet_effect = branch(() => /** @type {SnippetFn} */ (snippet)(node, ...args));\n\t\t}\n\t}, EFFECT_TRANSPARENT);\n}\n\n/**\n * In development, wrap the snippet function so that it passes validation, and so that the\n * correct component context is set for ownership checks\n * @param {(node: import('#client').TemplateNode, ...args: any[]) => import('#client').Dom} fn\n * @param {any} component\n */\nexport function wrap_snippet(fn, component) {\n\treturn add_snippet_symbol(\n\t\t(/** @type {import('#client').TemplateNode} */ node, /** @type {any[]} */ ...args) => {\n\t\t\tvar previous_component_function = dev_current_component_function;\n\t\t\tset_dev_current_component_function(component);\n\n\t\t\ttry {\n\t\t\t\treturn fn(node, ...args);\n\t\t\t} finally {\n\t\t\t\tset_dev_current_component_function(previous_component_function);\n\t\t\t}\n\t\t}\n\t);\n}\n"],"names":["snippet","get_snippet","node","args","snippet_effect","block","destroy_effect","branch","EFFECT_TRANSPARENT"],"mappings":"oXAgBO,SAASA,EAAQC,EAAaC,KAASC,EAAM,CAEnD,IAAIH,EAGAI,EAEJC,EAAM,IAAM,CACPL,KAAaA,EAAUC,EAAW,KAElCG,IACHE,EAAeF,CAAc,EAC7BA,EAAiB,MAGdJ,IACHI,EAAiBG,EAAO,IAAgCP,EAASE,EAAM,GAAGC,CAAI,CAAC,GAEhF,EAAEK,CAAkB,CACtB"}