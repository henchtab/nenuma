import{P as u}from"./context.CrttRzP-.js";import{A as l,C as y}from"./tma.DBwO2EMO.js";import"./disclose-version.u5Z3pXpL.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="10f55632-bffc-4f8a-920f-910214a816e3",e._sentryDebugIdIdentifier="sentry-dbid-10f55632-bffc-4f8a-920f-910214a816e3")}catch{}})();/*! js-cookie v3.0.5 | MIT */function s(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)e[i]=t[i]}return e}var w={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function d(e,r){function t(o,a,n){if(!(typeof document>"u")){n=s({},r,n),typeof n.expires=="number"&&(n.expires=new Date(Date.now()+n.expires*864e5)),n.expires&&(n.expires=n.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var f in n)n[f]&&(c+="; "+f,n[f]!==!0&&(c+="="+n[f].split(";")[0]));return document.cookie=o+"="+e.write(a,o)+c}}function i(o){if(!(typeof document>"u"||arguments.length&&!o)){for(var a=document.cookie?document.cookie.split("; "):[],n={},c=0;c<a.length;c++){var f=a[c].split("="),h=f.slice(1).join("=");try{var p=decodeURIComponent(f[0]);if(n[p]=e.read(h,p),o===p)break}catch{}}return o?n[o]:n}}return Object.create({set:t,get:i,remove:function(o,a){t(o,"",s({},a,{expires:-1}))},withAttributes:function(o){return d(this.converter,s({},this.attributes,o))},withConverter:function(o){return d(s({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(e)}})}var g=d(w,{path:"/"});async function C(){try{return{tonProof:(await(await fetch(`${u}/api/generate-proof-payload`)).json()).proofToken}}catch{return null}}async function x(e,r){try{const t={address:r.address,network:r.chain,public_key:r.publicKey,proof:{...e,state_init:r.walletStateInit}},i=await(await fetch(`${u}/api/check-proof`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json();i!=null&&i.token&&g.set(l,i.token,{expires:y,sameSite:"Lax"})}catch(t){console.log("checkProof error:",t)}}async function _(){const e=await fetch(`${u}/api/account-info`,{headers:{Authorization:`Bearer ${g.get(l)}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error(e.statusText);return await e.json()}function j(){g.remove(l),C()}export{_ as a,x as c,C as g,j as r};
//# sourceMappingURL=data.CTRG-7I9.js.map
